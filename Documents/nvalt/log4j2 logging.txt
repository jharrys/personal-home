See this good [explanation](http://andrew-flower.com/blog/Basic_Log4j2_Configuration)

Here is the log4j2 [reference](http://logging.apache.org/log4j/2.x/manual/index.html)

## Most simple log config you can have (this is what it looks like if none is created)

        <?xml version=“1.0” encoding=“UTF-8”?>
        <Configuration status=“WARN”>
            <Appenders>
                <Console name=“Console” target=“SYSTEM_OUT”>
                    <PatternLayout patther=“%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n”/>
                </Console>
            </Appenders>
            <Loggers>
                <Root level=“error”>
                    <AppenderRef ref=“Console”/>
                </Root>
            </Loggers>
        </Configuration>
        
## How to create a Message and a LogEvent

        SimpleMessage simpleMessage = new SimpleMessage(“error number 2“);
        LogEvent event = Log4jLogEvent.newBuilder().setMessage(simpleMessage).build();
        
## Testing Filters

    ThrottleFilter filter = ThrottleFilter.createFilter(30, null, null);

        SimpleMessage simpleMessage = new SimpleMessage("Error message 2");

        LogEvent event = Log4jLogEvent.newBuilder().setMessage(simpleMessage).build();

        filter.start();
        
        assertTrue(filter.isStarted());
        
        assertSame(Filter.Result.DENY, filter.filter(null, Level.ERROR, null, simpleMessage, null));

## Debugging

        <Configuration status=“trace”>
        
        -or-
        
        -Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRACE

## Reload Configuration (specified in seconds … the minimum is 5 seconds)

        <Configuration monitorInterval=“30”>
        …
        </Configuration>
        
## Marker

        private static final Marker QUERY_MARKER = MarkerManager.getMarker(“SQL”);
        private static final Marker UPDATE_SQL_MARKER = MarkerManager.getMarker(“SQL_UPDATE”).setParents(SQL_MARKER);
        
        …
        
        logger.debug(QUERY_MARKER, “SELECT * FROM {}”, table);
        
        logger.debug(UPDATE_MARKER, “UPDATE {} SET {}”, table, formatCols());
        
## Trace Flowing

also uses Markers
all below accept parameters of the vars that methods either accept, or returning: “return logger.exit(aString)” or inside a catch clause “logger.catching(ex)”

* entry() or traceEntry()
* exit() or traceExit()
* catching()
* throwing()

all messages thrown at TRACE level … top marker is “FLOW”, then “ENTER” and “EXIT”
top marker for trace flow errors … top marker is “EXCEPTION”, the “CATCHING” and “THROWING”



