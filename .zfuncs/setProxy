[ $# -lt 1 ] && echo "usage: $0 set|unset" && return 1

if [ "$1" = "set" ]; then

    if [ -e ~/.ssh/creds ]; then
        read USER PASS TRASH <~/.ssh/creds
    else
        echo "No file named creds in ~/.ssh found."
    fi

    export http_proxy=http://$USER:$PASS@proxy.ihc.com:8080
    export https_proxy=$http_proxy
    export HTTP_PROXY=$http_proxy
    export HTTPS_PROXY=$http_proxy
    export NOPROXY="localhost|maven.co.ihc.com|lpv-ideasoa01|lpv-ecismig01|*.co.ihc.com"
elif [ "$1" = "unset" ]; then
    unset http_proxy
    unset https_proxy
    unset HTTP_PROXY
    unset HTTPS_PROXY
    export NOPROXY="*"
fi
